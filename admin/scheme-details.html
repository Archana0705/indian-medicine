<html class="page-51 app-IMIM" lang="en" style="--js-sticky-top: 204.375px">

<head>
  <meta http-equiv="x-ua-compatible" content="IE=edge" />
  <meta charset="utf-8" />
  <title>Scheme details report</title>

  <link rel="apple-touch-icon" href="../assets/img/app-icon-192.png" />
  <link rel="icon" href="../assets/img/app-icon-32.png" />

  <link rel="stylesheet" href="../assets/css/Core.min.css" type="text/css" />
  <link rel="stylesheet" href="../assets/css/Theme-Standard.min.css" type="text/css" />
  <link rel="stylesheet" href="../assets/css/font-apex.min.css" type="text/css" />
  <link rel="stylesheet" href="../assets/css/Core_theme.min.css" type="text/css" />
  <link rel="stylesheet" href="../assets/css/custom.min.css" type="text/css" />
  <link rel="stylesheet" href="../assets/css/aos.min.css" type="text/css" />
  <link rel="stylesheet" href="../assets/css/theme.css" type="text/css" />
  <link
  rel="stylesheet"
  href="../assets/css/jquery.dataTables.min.css"
  type="text/css"
/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
  <style type="text/css">
    .modal-body {
      overflow-x: hidden !important;
    }

    input#screenReaderSwitch {
      display: none;
    }
  </style>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="-1" />
  <meta http-equiv="Cache-Control" content="no-cache" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style type="text/css">
    .t-fht-cell {
      height: 1px;
      overflow: hidden;
    }

    .t-fht-wrapper {
      width: 100%;
      overflow: hidden;
      position: relative;
    }

    .t-fht-thead {
      overflow: hidden;
      position: relative;
    }

    .t-fht-tbody {
      overflow: auto;
    }
  </style>
</head>

<body
  class="t-PageBody t-PageBody--hideLeft t-PageBody--hideActions t-PageTemplate--standard apex-top-nav apex-icons-fontapex apex-theme-vita-standard js-HeaderExpanded t-PageBody--topNav"
  id="t_PageBody" data-aos-easing="ease" data-aos-duration="400" data-aos-delay="0">
  <a href="#main" id="t_Body_skipToContent">Skip to Main Content</a>
  <form action="wwv_flow.accept?p_context=imim/scheme-details-report/9577400874335" method="post" name="wwv_flow"
    id="wwvFlowForm" data-oj-binding-provider="none" novalidate="" autocomplete="off">
    <input type="hidden" name="p_flow_id" value="117" id="pFlowId" /><input type="hidden" name="p_flow_step_id"
      value="51" id="pFlowStepId" /><input type="hidden" name="p_instance" value="9577400874335" id="pInstance" /><input
      type="hidden" name="p_page_submission_id" value="161440761242370243320910902905529801976"
      id="pPageSubmissionId" /><input type="hidden" name="p_request" value="" id="pRequest" /><input type="hidden"
      name="p_reload_on_submit" value="S" id="pReloadOnSubmit" /><input type="hidden"
      value="imim/scheme-details-report/9577400874335" id="pContext" /><input type="hidden"
      value="161440761242370243320910902905529801976" id="pSalt" />
    <header class="t-Header" id="t_Header" role="banner">
      <div class="t-Header-branding">
        <div class="t-Header-controls">
          <button class="t-Button t-Button--icon t-Button--header t-Button--headerTree" aria-label="Main Navigation"
            title="Main Navigation" id="t_Button_navControl" type="button">
            <span class="t-Header-controlsIcon" aria-hidden="true"></span>
          </button>
        </div>
        <div class="t-Header-logo">
          <!-- <a href="&#x2F;ords&#x2F;r&#x2F;dimdev&#x2F;imim&#x2F;home?session=9577400874335" class="t-Header-logo-link"><img src="r&#x2F;dimdev&#x2F;117&#x2F;files&#x2F;static&#x2F;v194&#x2F;app-251298-logo.jpeg" alt="" class="apex-logo-img" /><span class="apex-logo-text">DIRECTORATE OF INDIAN MEDICINE  - INDENT MANAGEMENT</span></a> -->
          <div class="gigw">
            <li>
              <a data-aos="fade-up" data-aos-delay="200" class="linkedin btn-decrease aos-init aos-animate"><span
                  class="d-inline-block" tabindex="0" data-toggle="tooltip" title="font size Decrease"><i></i> A
                  -</span></a>
            </li>
            <li>
              <a data-aos="fade-up" data-aos-delay="300" class="linkedin btn-orig aos-init aos-animate"><span
                  class="d-inline-block" tabindex="0" data-toggle="tooltip" title="Reset font"><i></i> A
                  <sup></sup></span></a>
            </li>
            <li>
              <a data-aos="fade-up" data-aos-delay="400" class="instagram btn-increase aos-init aos-animate"><span
                  class="d-inline-block" tabindex="0" data-toggle="tooltip" title="font size Increase"><i></i> A
                  +</span></a>
            </li>
            <li>
              <a data-aos="fade-up" data-aos-delay="500" class="aos-init aos-animate"><span class="d-inline-block"
                  tabindex="0" data-toggle="tooltip" title="Dark Mode"><i class="t-Icon fa fa-moon-o"
                    id="darkmode"></i></span></a>
            </li>
            <li>
              <a data-aos="fade-up" data-aos-delay="600" class="form-check form-switch aos-init aos-animate"><label
                  class="form-check-label" for="screenReaderSwitch">
                  <span class="d-inline-block" tabindex="0" data-toggle="tooltip" title="Screen Reader">
                    <i id="sound" class="t-Icon fa fa-volume-up"></i></span></label><input class="form-check-input"
                  type="checkbox" role="switch" id="screenReaderSwitch"
                  onclick="readText(document.getElementsByTagName('body')[0])" /></a>
            </li>
          </div>
        </div>
        <div class="t-Header-navBar">
          <div class="t-Header-navBar--start"></div>
          <div class="t-Header-navBar--center">
            <ul class="t-NavigationBar " id="userName">
              <li class="t-NavigationBar-item ">
                <button class="t-Button t-Button--icon t-Button t-Button--header t-Button--navBar" type="button"
                  id="L428237300758551931558" data-menu="menu_L428237300758551931558" title="" aria-haspopup="menu">
                  <span class="t-Icon fa fa-user" aria-hidden="true"></span><span class="t-Button-label"></span><span
                    class="t-Button-badge"></span><span class="a-Icon icon-down-arrow" aria-hidden="true"></span>
                </button>
              </li>
            </ul>
          </div>
          <div class="t-Header-navBar--end"></div>
        </div>
      </div>
      <div class="top">
        <img id="leftlogo" data-aos="fade-right" data-aos-duration="800" src="../assets/img/head-tnlogo.png"
          class="aos-init aos-animate" />
        <h1 data-aos="zoom-in" data-aos-duration="800" class="dept-name text-middle aos-init aos-animate">
          Medicine Indent
        </h1>
        <h3 data-aos="zoom-in" data-aos-duration="800" class="dept-name2 text-middle aos-init aos-animate">
          Department of Indian Medicine and Homoeopathy
        </h3>
        <img id="rightlogo" data-aos="fade-left" data-aos-duration="800" src="../assets/img/head-dept-logo.png"
          class="aos-init aos-animate" />
      </div>
      <div class="t-Header-nav">
        <div class="t-Header-nav-list js-tabLike js-tabLike a-MenuBar a-MenuBar--overflow a-MenuBar--tabs"
          id="t_MenuNav" role="menubar">
          <ul role="none">
            <li role="none" id="t_MenuNav_0" class="a-MenuBar-item">
              <a role="menuitem" class="a-MenuBar-label" id="t_MenuNav_0i" href="../admin/home.html">Home</a>
            </li>
          </ul>
        </div>
      </div>
    </header>
    <div class="t-Body">
      <div class="t-Body-main">
        <div class="t-Body-title" id="t_Body_title" style=""></div>
        <div class="t-Body-content" id="t_Body_content">
          <div id="t_Body_content_offset"></div>
          <main id="main" class="t-Body-mainContent">
            <span id="APEX_SUCCESS_MESSAGE" data-template-id="238562751400702882270_S"
              class="apex-page-success u-hidden">
            </span><span id="APEX_ERROR_MESSAGE" data-template-id="238562751400702882270_E"
              class="apex-page-error u-hidden"></span>
            <div class="t-Body-fullContent"></div>
            <div class="t-Body-contentInner">
              <div class="container">
                <div class="row">
                  <div class="col col-12 apex-col-auto col-start col-end">
                    <div id="R81445517002087728911" role="region" aria-label="Scheme details report"
                      class="t-IRR-region js-apex-region">
                      <div class="t-Region-orderBy"></div>
                      <div id="R81445517002087728911_ir" class="a-IRR-container">
                        <div id="R81445517002087728911_worksheet_region" class="a-IRR" aria-live="polite">
                          <div id="R81445517002087728911_single_row_view" class="a-IRR-singleRowView"></div>
                          <div id="R81445517002087728911_full_view" class="a-IRR-fullView">
                            <div id="R81445517002087728911_toolbar" class="a-IRR-toolbar">
                              <div role="search" aria-label="Search bar of Scheme details report"
                                id="R81445517002087728911_toolbar_controls" class="a-IRR-controls">
                                <div class="a-IRR-controlGroup a-IRR-controlGroup--search a-IRR-controlGroup--hidden">
                                  <div class="a-IRR-search">
                                    <input type="hidden"
                                      id="R81445517002087728911_column_search_current_column" /><input type="hidden"
                                      id="R81445517002087728911_search_field" value="" />
                                  </div>
                                </div>
                                <div class="a-IRR-controlGroup a-IRR-controlGroup--views"></div>
                                <div class="a-IRR-controlGroup a-IRR-controlGroup--options">
                                  <input type="hidden" id="R81445517002087728911_row_select" value="50" />
                                  <div class="a-IRR-actions">
                                    <button id="R81445517002087728911_actions_button"
                                      class="a-Button a-IRR-button a-IRR-button--actions" type="button"
                                      data-menu="R81445517002087728911_actions_menu" aria-haspopup="menu">
                                      Actions
                                      <span aria-hidden="true" class="a-Icon icon-menu-drop-down">
                                      </span>
                                    </button>
                                  </div>
                                </div>
                              </div>
                              <div role="region" aria-label="Buttons next to search bar of Scheme details report"
                                class="a-IRR-buttons">
                                <button class="t-Button t-Button--hot js-ignoreChange" type="button"
                                  data-bs-toggle="modal" data-bs-target=".create_Modal">
                                  <span class="t-Button-label">Create</span>
                                </button>
                              </div>
                            </div>
                            <div id="R81445517002087728911_content" class="a-IRR-content">
                              <div id="R81445517002087728911_dialog_js" class="a-IRR-dialogBody" style="display: none">
                              </div>
                              <input type="hidden" id="R81445517002087728911_worksheet_id"
                                value="81445517102507728911" />
                              <input type="hidden" id="R81445517002087728911_app_user" value="9994793279" />
                              <input type="hidden" id="R81445517002087728911_report_id" value="81446283381691982921" />
                              <input type="hidden" id="R81445517002087728911_view_mode" value="REPORT" />
                              <style id="R81445517002087728911_worksheet_css" type="text/css"></style>
                              <div role="region" aria-label="Chart view of Scheme details report"
                                id="R81445517002087728911_chart" class="a-IRR-chartView"></div>
                              <div role="region" aria-label="Group by view of Scheme details report"
                                id="R81445517002087728911_group_by" class="a-IRR-groupByView"></div>
                              <div role="region" aria-label="Pivot view of Scheme details report"
                                id="R81445517002087728911_pivot" class="a-IRR-pivotView"></div>
                              <div role="region" aria-label="Data view of Scheme details report"
                                id="R81445517002087728911_data_panel" class="a-IRR-reportView">
                                <div class="a-IRR-tableContainer">
                                  <div class="t-fht-tbody" style="width: auto">
                                    <table aria-label="Scheme details report, Report = Primary Default, View = Report"
                                      class="a-IRR-table" id="schemeData" style="margin-top: -56.4px;">
                                      <thead>
                                        <tr>
                                          <th class="a-IRR-header a-IRR-header--linkCol"
                                            id="R161192321633005013086_LINK">
                                            <span class="u-vh">Link</span>
                                            <div class="t-fht-cell"></div>
                                          </th>
                                          <th class="a-IRR-header u-tL" id="C161192322501341013088">
                                            <a aria-haspopup="dialog" class="a-IRR-headerLink"
                                              data-column="161192322501341013088" href="#"
                                              data-fht-column-idx="0">Scheme Name</a>
                                            <div class="t-fht-cell"></div>
                                          </th>
                                        </tr>
                                      </thead>
                                      <tbody>

                                      </tbody>
                                    </table>
                                  </div>
                                </div>
                                <div role="region" aria-label="Pagination of Scheme details report"
                                  class="a-IRR-paginationWrap a-IRR-paginationWrap--bottom">
                                  <ul class="a-IRR-pagination">
                                    <li aria-hidden="true" class="a-IRR-pagination-item is-disabled"></li>
                                    <li class="a-IRR-pagination-item">
                                      <span class="a-IRR-pagination-label">
                                        1 - 11</span>
                                    </li>
                                    <li aria-hidden="true" class="a-IRR-pagination-item is-disabled"></li>
                                  </ul>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </main>
          <footer class="t-Footer" id="t_Footer" role="contentinfo">
            <div class="t-Footer-body">
              <div class="t-Footer-content"></div>
              <div class="t-Footer-apex">
                <!-- <div class="t-Footer-version">    </div>
                    <div class="t-Footer-customize"></div>
                     -->
                <div class="row">
                  <div class="col-6">
                    <p class="text-middle">
                      <img class="footer-logo" src="../assets/img/head-dept-logo.png" /><br />Content owned by
                      Department of Indian Medicine
                      and Homoeopathy Â©
                    </p>
                  </div>
                  <div class="col-6">
                    <p class="text-middle">
                      <img class="footer-logo" src="../assets/img/tnegalogo.png" /><br />Designed and Developed by Tamil
                      Nadu
                      e-Governance Agency
                    </p>
                  </div>
                </div>
              </div>
            </div>
            <div class="t-Footer-top">
              <a href="#top" class="t-Footer-topButton" id="t_Footer_topButton" title="Start of page"
                aria-label="Start of page"><span class="a-Icon icon-up-chevron" aria-hidden="true"></span></a>
            </div>
          </footer>
        </div>
      </div>
    </div>
    <div class="t-Body-inlineDialogs" id="t_Body_inlineDialogs"></div>
    <input type="hidden" id="pPageFormRegionChecksums" value="[]" />
    <input type="hidden" id="pPageItemsRowVersion" value="" /><input type="hidden" id="pPageItemsProtected"
      value="/GKxRGoKbMlYQH6VCDddw7WjYPX6dzvTwCGVU8igFgCp-bt3JYYgDijE0LxDh-9-tlM_Qvk4r4-XZjofSOlcung" />
  </form>

  <!-- create -->
  <div class="modal fade create_Modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header py-2">
          <h1 class="modal-title fs-5" id="exampleModalLabel">
            Scheme Details form
          </h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body py-2">
          <div class="container6">
            <div class="row">
              <div class="col col-12 apex-col-auto col-start col-end">
                <div
                  class="t-Form-fieldContainer is-required rel-col t-Form-fieldContainer--stretchInputs t-Form-fieldContainer--indicatorAsterisk t-Form-fieldContainer--large apex-item-wrapper apex-item-wrapper--text-field"
                  id="P52_SCHEME_NAME_CONTAINER">
                  <div class="t-Form-labelContainer col col-2">
                    <label for="P52_SCHEME_NAME" id="P52_SCHEME_NAME_LABEL" class="t-Form-label">Scheme Name
                    </label>
                  </div>
                  <div class="t-Form-inputContainer col col-10">
                    <div class="t-Form-itemWrapper">
                      <input type="text" id="P52_SCHEME_NAME" name="P52_SCHEME_NAME" required=""
                        class="text_field apex-item-text" value="" size="32" maxlength="255" data-trim-spaces="NONE" />
                    </div>
                    <div class="t-Form-itemAssistance">
                      <span id="P52_SCHEME_NAME_error_placeholder" class="a-Form-error"
                        data-template-id="428237131064519931341_ET"></span>
                      <div class="t-Form-itemRequired" aria-hidden="true">
                        Required
                      </div>
                    </div>
                  </div>
                </div>
                <input type="hidden" name="P52_CREATED_BY" id="P52_CREATED_BY" value="" /><input type="hidden"
                  name="P52_CREATED_DATE" id="P52_CREATED_DATE" value="" /><input type="hidden" name="P52_UPDATED_BY"
                  id="P52_UPDATED_BY" value="" /><input type="hidden" name="P52_UPDATED_DATE" id="P52_UPDATED_DATE"
                  value="" />
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer py-2">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
            Cancel
          </button>
          <button type="button" class="btn btn-primary" id="btnCreateScheme">Create</button>
        </div>
      </div>
    </div>
  </div>
  <!-- create -->

  <!-- update -->
  <!-- Update Scheme Modal -->
  <div class="modal fade update_Modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true"
    id="editSchemeData">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header py-2">
          <h1 class="modal-title fs-5" id="exampleModalLabel">Update Scheme Details Form</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body py-2">
          <div class="container">
            <div class="row">
              <div class="col col-12">
                <div class="t-Form-fieldContainer is-required">
                  <div class="t-Form-labelContainer col col-2">
                    <label for="P52_SCHEME_NAME" class="t-Form-label">Scheme Name</label>
                  </div>
                  <div class="t-Form-inputContainer col col-10">
                    <input type="text" id="P52_SCHEME_NAME_EDIT" name="P52_SCHEME_NAME" required
                      class="text_field apex-item-text" maxlength="255" />
                    <div class="t-Form-itemRequired" aria-hidden="true">Required</div>
                  </div>
                </div>
                <input type="hidden" id="P52_CREATED_BY" value="DIMDEVUSER" />
                <input type="hidden" id="P52_CREATED_DATE" value="12/26/2023" />
                <input type="hidden" id="P52_UPDATED_BY" value="DIMDEVUSER" />
                <input type="hidden" id="P52_UPDATED_DATE" value="12/26/2023" />
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer py-2">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary" id="btnUpdateScheme">Update</button>
        </div>
      </div>
    </div>
  </div>

  <!-- update -->

  <script>
    var apex_img_dir = "\u002Fi\u002F";
    var apex = {
      env: {
        APP_USER: "9994793279",
        APP_ID: "117",
        APP_PAGE_ID: "51",
        APP_SESSION: "9577400874335",
        APP_FILES:
          "r\u002Fdimdev\u002F117\u002Ffiles\u002Fstatic\u002Fv194\u002F",
        WORKSPACE_FILES:
          "r\u002Fdimdev\u002Ffiles\u002Fstatic\u002Fv38\u002F",
        APEX_VERSION: "23.1.0",
        APEX_BASE_VERSION: "23.1",
      },
      libVersions: {
        ckeditor5: "36.0.0",
        cropperJs: "1.5.13",
        domPurify: "2.4.3",
        fullcalendar: "5.11.3",
        hammer: "2.0.8",
        jquery: "3.6.4",
        jqueryUi: "1.13.2",
        maplibre: "2.4.0",
        markedJs: "4.2.5",
        prismJs: "1.29.0",
        oraclejet: "14.0.0",
        tinymce: "6.3.1",
        turndown: "7.1.1",
        monacoEditor: "0.32.1",
        lessJs: "4.1.3",
      },
    };
  </script>
  <script src="/i/libraries/apex/minified/desktop_all.min.js?v=23.1.0"></script>
  <script src="wwv_flow.js_messages?p_app_id=117&amp;p_lang=en&amp;p_version=23.1.0-249998717"></script>
  <script type="text/javascript">
    apex.da.initDaEventList = function () {
      apex.da.gEventList = [
        {
          triggeringElementType: "REGION",
          triggeringRegionId: "R81445517002087728911",
          bindType: "bind",
          executionType: "IMMEDIATE",
          bindEventType: "apexafterclosedialog",
          anyActionsFireOnInit: false,
          actionList: [
            {
              eventResult: true,
              executeOnPageInit: false,
              stopExecutionOnError: true,
              affectedElementsType: "REGION",
              affectedRegionId: "R81445517002087728911",
              javascriptFunction: apex.da.refresh,
              action: "NATIVE_REFRESH",
            },
          ],
        },
      ];
    };
  </script>

  <script src="../assets/js/jquery-3.6.0.min.js"></script>
  <script src="../assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- DataTables -->
  <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
  <script src="../assets/js/widget.treeView.min.js"></script>
  <script src="../assets/common.js"></script>
  <script src="../assets/js/widget.interactiveReport.min.js"></script>
  <script src="../assets/js/widget.iconList.min.js"></script>
  <script src="../assets/js/widget.stickyTableHeader.min.js"></script>
  <script src="../assets/js/widget.stickyWidget.min.js"></script>
  <script src="../assets/js/item.Colorpicker.min.js"></script>
  <script src="../assets/js/jetCommonBundle.min.js"></script>
  <script src="../assets/js/chartBundle.min.js"></script>

  <script src="../assets/js/toastUtil.js"></script>
  <script src="../assets/js/validation.js"></script>
  <script src="../assets/js/dataTableUtil.js"></script>
  <script src="../assets/js/crypto-js.min.js"></script>
  <script src="../assets/js/theme42.min.js"></script>
  <script src="../assets/js/global.js"></script>
  <script src="../assets/js/encrypt_decrypt.js"></script>
  <script src="../assets/js/singleFileUpload.js"></script>
  <script src="../assets/js/globalHeader.js"></script>
  <script src="../assets/js/validation.js"></script>

  <script>
    $(document).ready(function () {
      var userName = localStorage.getItem("userName") || "Guest";
      var userDesignation = localStorage.getItem("userDesignation") || "N/A";
      var userDistrict = localStorage.getItem("userDistrict") || "N/A";
      var userNo = localStorage.getItem("userMobileNumber") || "0";

      $('#username .t-Button-label').text(userName);
      $('#P1_NAME_OF_THE_INDENTING_OFFICER_DISPLAY').text(userName);
      $('#P1_NAME_OF_THE_INDENTING_OFFICER').val(userName);
      $('#P1_DESIGNATION_OF_OFFICER').val(userDesignation);
      $('#P1_DESIGNATION_OF_OFFICER_DISPLAY').text(userDesignation);
      $('#P1_DISTRICT').val(userDistrict);
      $('#P1_DISTRICT_DISPLAY').text(userDistrict);
    });
    const apiUrl =
      "https://tngis.tnega.org/medical_indent_api/v1/commonfunction";

    function getPayload() {
      return {
        action: "function_call",
        function_name: "im_get_im_scheme_details_fn",
        params: {},
      };
    }
    function initColumnFilter(tableId) {
      if ($.fn.DataTable.isDataTable(`#${tableId}`)) {
        $(`#${tableId}`).DataTable().destroy();
      }

      const table = $(`#${tableId}`).DataTable({
        initComplete: function () {
          this.api().columns().every(function () {
            const column = this;
            $('input', this.header()).on('keyup change clear', function () {
              // Normalize input: trim, lowercase, single space
              let inputVal = this.value.trim().toLowerCase().replace(/\s+/g, ' ');
              if (column.search() !== inputVal) {
                column.search(inputVal).draw();
              }
            });
          });
        },
        orderCellsTop: true,
        fixedHeader: true,
        pageLength: 10
      });
    }

    function fetchTableData() {
      const payload = getPayload();
      loadDataToTable({
        tableId: "schemeData",
        apiUrl,
        httpMethod: "POST",
        payload: encryptData(payload),
        rowBuilder: (item) => {
          if (!item || Object.keys(item).length === 0) {
            $("#schemeData tbody").html(`
                    <tr><td colspan="14" class="u-tC">No Data Found</td></tr>
                  `);
            return;
          }
          return `
                <tr>
                    <td class="a-IRR-linkCol u-tC" headers="R81445517002087728911_LINK" id="editSchemeDataBtn">
                      <span class="edit-scheme-btn"
                            data-sno="${item.sno}" 
                            data-scheme-name="${item.scheme_name}" 
                            role="button" 
                            style="cursor:pointer;">
                        <span class="fa fa-edit" aria-hidden="true" title="Edit"></span>
                      </span>
                    </td>
                    <td class="u-tL">${item.scheme_name}</td>
                  </tr>

                `;
        },
        onTableInit: function (dtRef) {
            dataTableRef = dtRef;
            initColumnFilter("schemeData"); // call filter setup here
          },
      });
    }
    fetchTableData();

    $("#btnCreateScheme").on("click", function () {
      const schemeName = $("#P52_SCHEME_NAME").val()?.trim();

      // Clear previous error
      $("#P52_SCHEME_NAME_error_placeholder").text("");

      // Validation
      if (!schemeName) {
        $("#P52_SCHEME_NAME_error_placeholder").text("Scheme Name is required.");
        $("#P52_SCHEME_NAME").addClass("is-invalid"); // Optional: Bootstrap invalid class
        return; // Stop form submission
      } else {
        $("#P52_SCHEME_NAME").removeClass("is-invalid"); // Clear invalid styling
      }

      const payload = {
        action: "function_call",
        function_name: "im_ins_im_scheme_details_fn",
        params: {
          p_scheme_name: schemeName,
          p_created_by: localStorage.getItem("userMobileNumber") || null,
          p_created_date: new Date().toISOString()
        }
      };

      $.ajax({
        url: apiUrl,
        method: 'POST',
        data: {
          data: encryptData(payload),
        },
        dataType: 'json',
        success: function (response) {
          fetchTableData();
          showSuccessToast("Successfully submitted.");
          $(".create_Modal").modal("hide");
          $("#P52_SCHEME_NAME").val(""); // Optional: clear field after insert
        },
        error: function (xhr, status, error) {
          console.error("API call failed:", {
            status: xhr.status,
            statusText: xhr.statusText,
            responseText: xhr.responseText,
            error: error
          });
        }
      });
    });

    let selectedSchemeId = null;
    $(document).on("click", "#editSchemeDataBtn .edit-scheme-btn", function () {
      const sno = $(this).data("sno");
      const schemeName = $(this).data("scheme-name");

      selectedSchemeId = sno;
      $("#P52_SCHEME_NAME_EDIT").val(schemeName);

      $(".update_Modal").modal("show");
    });


    // Update scheme on modal "Update" button click
    $("#btnUpdateScheme").on("click", function () {
      const payload = {
        action: "function_call",
        function_name: "im_upd_im_scheme_details_fn",
        params: {
          p_sno: selectedSchemeId,
          p_scheme_name: $("#P52_SCHEME_NAME_EDIT").val() || null,
          p_updated_by: localStorage.getItem("userMobileNumber") || null,
          p_updated_date: new Date().toISOString().slice(0, 19).replace("T", " ")

        }
      };
      $.ajax({
        url: apiUrl,
        method: 'POST',
        data: {
          data: encryptData(payload),
        },
        dataType: 'json',
        success: function (response) {
          showSuccessToast("Record updated successfully");
          $(".update_Modal").modal("hide");
          fetchTableData();
        },
        error: function (xhr, status, error) {
          console.error("API call failed:", {
            status: xhr.status,
            statusText: xhr.statusText,
            responseText: xhr.responseText,
            error: error
          });
        }
      })
    })
  </script>
  <div id="pushModal" style="width: 100%; display: none; height: 100%" class="u-DisplayNone u-Overlay--glass"></div>
  <div id="R81445517002087728911_actions_menu" role="menu" class="a-Menu" style="display: none"></div>
  <div role="dialog" aria-label="Column Actions" aria-modal="true" class="a-IRR-sortWidget"
    id="R81445517002087728911_sort_widget" style="display: none">
    <h1 class="u-vh" aria-roledescription="Visually hidden dialog title">
      Column Actions
    </h1>
    <ul role="toolbar" class="a-IRR-sortWidget-actions" id="R81445517002087728911_sort_widget_actions">
      <li role="none" class="a-IRR-sortWidget-actions-item" id="R81445517002087728911_sort_widget_action_up">
        <button class="a-Button a-IRR-button a-IRR-sortWidget-button" type="button" title="Sort Ascending"
          aria-label="Sort Ascending" data-option="up">
          <span aria-hidden="true" class="a-Icon icon-irr-sort-asc"></span>
        </button>
      </li>
      <li role="none" class="a-IRR-sortWidget-actions-item" id="R81445517002087728911_sort_widget_action_down">
        <button class="a-Button a-IRR-button a-IRR-sortWidget-button" type="button" title="Sort Descending"
          aria-label="Sort Descending" data-option="down">
          <span aria-hidden="true" class="a-Icon icon-irr-sort-desc"></span>
        </button>
      </li>
      <li role="none" class="a-IRR-sortWidget-actions-item" id="R81445517002087728911_sort_widget_action_hide">
        <button class="a-Button a-IRR-button a-IRR-sortWidget-button" type="button" title="Hide Column"
          aria-label="Hide Column" data-option="hide">
          <span aria-hidden="true" class="a-Icon icon-irr-remove-col"></span>
        </button>
      </li>
      <li role="none" class="a-IRR-sortWidget-actions-item" id="R81445517002087728911_sort_widget_action_break">
        <button class="a-Button a-IRR-button a-IRR-sortWidget-button" type="button" title="Control Break"
          aria-label="Control Break" data-option="break">
          <span aria-hidden="true" class="a-Icon icon-irr-control-break"></span>
        </button>
      </li>
      <li role="none" class="a-IRR-sortWidget-actions-item" id="R81445517002087728911_sort_widget_action_help">
        <button class="a-Button a-IRR-button a-IRR-sortWidget-button" type="button" title="Help" aria-label="Help"
          data-option="help" aria-pressed="false">
          <span aria-hidden="true" class="a-Icon icon-irr-help"></span>
        </button>
      </li>
      <li role="none" class="a-IRR-sortWidget-actions-item" id="R81445517002087728911_sort_widget_action_computation">
        <button class="a-Button a-IRR-button a-IRR-sortWidget-button" type="button" title="Compute" aria-label="Compute"
          data-option="computation">
          <span aria-hidden="true" class="a-Icon icon-irr-calculator"></span>
        </button>
      </li>
    </ul>
    <div role="region" aria-label="Help" class="a-IRR-sortWidget-help" id="R81445517002087728911_sort_widget_help">
    </div>
    <div role="search" class="a-IRR-sortWidget-search" id="R81445517002087728911_sort_widget_search">
      <label for="R81445517002087728911_sort_widget_search_field" class="a-IRR-sortWidget-searchLabel"><span
          class="u-vh">Search</span></label><input id="R81445517002087728911_sort_widget_search_field"
        class="a-IRR-sortWidget-searchField" type="text" placeholder="Filter..." />
      <div role="group" aria-label="Filter suggestions" class="a-IRR-sortWidget-rows"
        id="R81445517002087728911_sort_widget_rows"></div>
    </div>
  </div>
  <div class="t-NavigationBar-menu a-Menu" style="display: none" id="menu_L428237300758551931558" role="menu">
    <ul>
      <li class="" data-current="false" data-icon="fa fa-sign-out">
        <a href="apex_authentication.logout?p_app_id=117&amp;p_session_id=9577400874335" title="" target="">Sign Out</a>
      </li>
    </ul>
  </div>
  <iframe frameborder="0" scrolling="no" style="background-color: transparent; border: 0px; display: none"></iframe>
  <div id="GOOGLE_INPUT_CHEXT_FLAG" style="display: none" input=""
    input_stat='{"tlang":true,"tsbc":true,"pun":true,"mk":true,"ss":true}'></div>
</body>

</html>